<Window x:Class="Lab1_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Многосвязные списки" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Menu Grid.Row="0">
            <MenuItem Header="_Файл">
                <MenuItem Header="_Создать проект" Click="CreateProject_Click"/>
                <MenuItem Header="_Открыть проект" Click="OpenProject_Click"/>
                <Separator/>
                <MenuItem Header="В_ыход" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="_Компоненты">
                <MenuItem Header="_Добавить" Click="AddComponent_Click"/>
                <MenuItem Header="_Удалить" Click="DeleteComponent_Click"/>
                <MenuItem Header="_Восстановить" Click="Restore_Click"/>
            </MenuItem>
            <MenuItem Header="_Спецификация">
                <MenuItem Header="Добавить _связь" Click="AddToSpec_Click"/>
                <MenuItem Header="Удалить с_вязи" Click="DeleteFromSpec_Click"/>
            </MenuItem>
            <MenuItem Header="_Сервис">
                <MenuItem Header="Физическое _удаление" Click="Truncate_Click"/>
                <MenuItem Header="Показать _все" Click="PrintAll_Click"/>
            </MenuItem>
        </Menu>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,10">
            <Button Content="Создать" Click="CreateProject_Click" Width="80" Margin="0,0,5,0"/>
            <Button Content="Открыть" Click="OpenProject_Click" Width="80" Margin="0,0,5,0"/>
            <Button Content="Добавить" Click="AddComponent_Click" Width="80" Margin="0,0,5,0"/>
            <Button Content="Удалить" Click="DeleteComponent_Click" Width="80" Margin="0,0,5,0"/>
            <Separator Width="20"/>
            <Button Content="Связь" Click="AddToSpec_Click" Width="80" Margin="0,0,5,0"/>
            <Button Content="Удалить связи" Click="DeleteFromSpec_Click" Width="100" Margin="0,0,5,0"/>
            <Button Content="Восстановить" Click="Restore_Click" Width="90" Margin="0,0,5,0"/>
            <Button Content="Удалить физически" Click="Truncate_Click" Width="120"/>
        </StackPanel>

        <!-- Выбор компонента для отображения спецификации -->
        <GroupBox Grid.Row="2" Header="Выберите компонент для просмотра спецификации" Margin="0,0,0,10">
            <ComboBox x:Name="cmbSpecSelector" 
                      SelectionChanged="CmbSpecSelector_SelectionChanged"
                      DisplayMemberPath="Name"
                      Height="25"/>
        </GroupBox>

        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <GroupBox Grid.Column="0" Header="Компоненты" Margin="0,0,5,0">
                <DataGrid x:Name="dgComponents" AutoGenerateColumns="False" 
                          CanUserAddRows="False" IsReadOnly="True"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Наименование" Binding="{Binding Name}" Width="*"/>
                        <DataGridTextColumn Header="Тип" Binding="{Binding Type}" Width="120"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>

            <GroupBox Grid.Column="1" Header="Спецификация выбранного компонента" Margin="5,0,0,0">
                <TreeView x:Name="tvSpecification">
                    <TreeView.ItemTemplate>
                        <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                            <TextBlock Text="{Binding Name}"/>
                        </HierarchicalDataTemplate>
                    </TreeView.ItemTemplate>
                </TreeView>
            </GroupBox>
        </Grid>

        <StatusBar Grid.Row="4" Margin="0,10,0,0">
            <StatusBarItem>
                <TextBlock x:Name="txtStatus" Text="Готов"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>